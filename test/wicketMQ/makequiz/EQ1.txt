/**
 * A WebPage which allows you to fill in the data for a particular
 * question.  This may be a new question which has just been created,
 * or an existing question which is being modified.
 */
public class EditQuestion extends DataManagedWebPage {
   String quizName;
   int questionIndex;

   // Is this a new question being created?
   boolean newQuestion;

   // Object containing all the accumulated question data
   Question question;

   // Set the title of the page to reflect the quiz name
   object pageTitle extends CLabel {
      textValue := quizName + ": Question " + (questionIndex + 1);
   }

   /**
    * Creates a new EditQuestion page for a new question to be added.
    * quizName specifies which Quiz to add the question to, and
    * questionIndex indicates the new question's index.  The question
    * index is used only for display purposes; the actual index may
    * end up being different in the case where another user adds or
    * removes questions at the same time.
    */
   public EditQuestion(String quizName, int questionIndex) {
      this.quizName = quizName;
      this.questionIndex = questionIndex;
      newQuestion = true;
      question = new Question();
   }

   /**
    * Creates a new EditQuestion page for an existing question to be
    * modified.  quizName specifies which Quiz the question belongs
    * to, questionIndex indicates the question's index, and questionId
    * identifies the question in the database.  The question index is
    * used only for display purposes.
    */
   public EditQuestion(String quizName, int questionIndex, long questionId) {
      this.quizName = quizName;
      this.questionIndex = questionIndex;
      newQuestion = false;
      question = dataManager.findQuestion(questionId);
      if (question == null)
	 error("Question " + (questionIndex + 1) + " in quiz " + quizName + " does not exist.");
   }
}
