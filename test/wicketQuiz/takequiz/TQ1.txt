/**
 * The WebPage which actually lets you take a particular quiz.
 */
public class TakeQuiz extends QuizWebPage {
   // State that changes as we advance through the questions
   int questionIndex = 0;
   boolean questionAnswered = false;
   int currentScore = 0;

   // State passed in via the constructor and/or derived from above
   Quiz quiz;
   int numQuestions := quiz.questions.size();
   // TODO: should quietly return null without the check?
   Question currentQuestion := 
      (numQuestions == 0) ? null : quiz.questions.get(questionIndex);

   // Set the title of the page to reflect the quiz name
   object pageTitle extends CLabel {
      textValue := "Quiz: " + quiz.name;
   }

   // The main form
   object takeQuizForm extends CForm<TakeQuiz> {
      // Don't display the form if we don't have the quiz/questions.
      visible := (quiz != null && numQuestions > 0);

      // Display the current question number and score
      object questionLabel extends CLabel {
	 textValue := "Question " + (questionIndex + 1);
      }
      object scoreLabel extends CLabel {
	 textValue := "Current score: " + currentScore + " of " + numQuestions;
      }
   }

   /**
    * Creates a new TakeQuiz page for a Quiz with the given name.
    */
   public TakeQuiz(String quizName) {
   }
}
